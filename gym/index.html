<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gym Terminal</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background-color: #000;
      color: #00ff00;
      font-family: 'Courier New', Courier, monospace;
      margin: 0;
      padding: 20px;
      animation: flicker 2s infinite alternate;
    }

    @keyframes flicker {
      from { opacity: 1; }
      to { opacity: 0.95; }
    }

    h1, h2, h3 {
      color: #00ff00;
      text-shadow: 0 0 5px #00ff00;
    }

    .section {
      background-color: #000;
      border: 1px solid #00ff00;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 0 10px #00ff00;
    }

    canvas {
      background: #111;
      border: 1px solid #00ff00;
      padding: 10px;
      margin-top: 10px;
    }

    a {
      color: #00ff00;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    ul li::before {
      content: ">";
      margin-right: 10px;
      color: #00ff00;
    }

    .video-list li::before {
      content: "> ";
    }

    .icon {
      font-size: 24px;
      margin-right: 10px;
    }

    .lift-title {
      display: flex;
      align-items: center;
      margin-top: 20px;
    }

    footer {
      margin-top: 40px;
      border-top: 1px solid #00ff00;
      padding-top: 10px;
      font-size: 0.9rem;
    }

    #daysCount {
      font-weight: bold;
      color: #0f0;
    }
  </style>
</head>
<body>
  <h1>> WELCOME TO THE GYM TERMINAL</h1>

  <div class="section" id="timeInGym">
    <h2>> Time since day 1 :</h2>
    <p id="daysCount"></p>
  </div>

  <div class="section">
    <h2>> PRs & Progression</h2>
    <div class="lift-title"><span class="icon">ü¶µ</span><h3>Squat</h3></div>
    <canvas id="squatChart" width="400" height="200"></canvas>

    <div class="lift-title"><span class="icon">üèÖ</span><h3>Bench Press</h3></div>
    <canvas id="benchChart" width="400" height="200"></canvas>

    <div class="lift-title"><span class="icon">üíÄ</span><h3>Deadlift</h3></div>
    <canvas id="deadliftChart" width="400" height="200"></canvas>
  </div>

  <div class="section">
    <h2>> DOTs Score :</h2>
    <p id="dotsScore"></p>
  </div>

  <div class="section">
    <h2>> Goals :</h2>
    <ul>
      <li>Squat : 180 kg</li>
      <li>Bench : 140 kg</li>
      <li>Deadlift : 220 kg</li>
      <li>Poids : 90 kg</li>
      <li>Bodyfat : 10-12%</li>
    </ul>
  </div>

  <div class="section">
    <h2>> Youtube :</h2>
    <ul class="video-list">
      <li><a href="https://youtu.be/dmejud81-t0" target="_blank">When cat</a></li>
      <li><a href="https://www.youtube.com/watch?v=TON_LIEN_ICI" target="_blank">Incoming SBD video</a></li>
    </ul>
  </div>

  <footer>
    <p>> ¬© 2025 - Mahi Chahid Terminal Log</p>
  </footer>

  <script>
    const startDate = new Date(2021, 9, 20);
    const today = new Date();

    let years = today.getFullYear() - startDate.getFullYear();
    let months = today.getMonth() - startDate.getMonth();
    let days = today.getDate() - startDate.getDate();

    if (days < 0) {
      months--;
      days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
    }

    if (months < 0) {
      years--;
      months += 12;
    }

    const targetDays = days;
    const targetMonths = months;
    const targetYears = years;

    let currentDays = 0;
    let currentMonths = 0;
    let currentYears = 0;

    function animateCounter() {
      const daysElement = document.getElementById('daysCount');
      const interval = setInterval(() => {
        if (currentYears < targetYears) {
          currentYears++;
        } else if (currentMonths < targetMonths) {
          currentMonths++;
        } else if (currentDays < targetDays) {
          currentDays++;
        } else {
          clearInterval(interval);
        }
        daysElement.textContent = `${currentDays}j - ${currentMonths}m - ${currentYears}a`;
      }, 50);
    }

    animateCounter();

    const squatData = [80, 100, 110, 150];
    const benchData = [60, 80, 100, 130];
    const deadliftData = [80, 120, 160, 190];
    const labels = ['2022', '2023', '2024', '2025'];

    function createChart(canvasId, data, label, color) {
      new Chart(document.getElementById(canvasId), {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: label,
            data: data,
            fill: true,
            backgroundColor: color + '22',
            borderColor: color,
            tension: 0.3
          }]
        },
        options: {
          animation: false,
          plugins: {
            legend: {
              labels: {
                color: '#00ff00',
                font: {
                  family: 'Courier New',
                  weight: 'bold'
                }
              }
            }
          },
          scales: {
            x: {
              ticks: { color: '#00ff00' },
              grid: { color: '#003300' }
            },
            y: {
              beginAtZero: true,
              ticks: { color: '#00ff00' },
              grid: { color: '#003300' }
            }
          }
        }
      });
    }

    createChart('squatChart', squatData, 'Squat PR (kg)', '#00ff00');
    createChart('benchChart', benchData, 'Bench PR (kg)', '#00cc00');
    createChart('deadliftChart', deadliftData, 'Deadlift PR (kg)', '#00aa00');

    const bodyWeight = 86;
    const totalLift = squatData.at(-1) + benchData.at(-1) + deadliftData.at(-1);

    function calculateDOTS(bodyweight, total) {
      const a = -0.000001093;
      const b = 0.0007391293;
      const c = -0.1918759221;
      const d = 24.0900756;
      const e = -307.75076;
      const coeff = a * bodyweight**4 + b * bodyweight**3 + c * bodyweight**2 + d * bodyweight + e;
      return (total * 500) / coeff;
    }

    const dots = calculateDOTS(bodyWeight, totalLift).toFixed(2);
    document.getElementById('dotsScore').textContent = `${dots}`;
  </script>
</body>
</html>
